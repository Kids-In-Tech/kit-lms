{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import{Bell,Search,ChevronDown}from'lucide-react';import API from'../api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(){var _user$name;const{user,logout}=useAuth();const[showProfile,setShowProfile]=useState(false);const[unreadCount,setUnreadCount]=useState(0);useEffect(()=>{API.get('/api/notifications').then(res=>{setUnreadCount(res.data.filter(n=>!n.is_read).length);}).catch(()=>{});},[]);return/*#__PURE__*/_jsxs(\"header\",{className:\"h-14 bg-white border-b border-[#E7E5E4] flex items-center justify-between px-6 shrink-0\",\"data-testid\":\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative hidden md:block\",children:[/*#__PURE__*/_jsx(Search,{size:16,className:\"absolute left-3 top-1/2 -translate-y-1/2 text-[#A8A29E]\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",className:\"pl-9 pr-4 py-1.5 w-64 rounded-lg bg-[#F5F5F4] border border-transparent focus:border-[#6366F1] focus:bg-white text-sm outline-none transition-all\",\"data-testid\":\"header-search\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"relative p-2 rounded-lg hover:bg-[#F5F5F4] transition-colors\",\"data-testid\":\"notifications-bell\",children:[/*#__PURE__*/_jsx(Bell,{size:18,className:\"text-[#57534E]\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-0.5 -right-0.5 w-4 h-4 bg-[#EF4444] rounded-full text-white text-[10px] flex items-center justify-center font-medium\",children:unreadCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProfile(!showProfile),className:\"flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-[#F5F5F4] transition-colors\",\"data-testid\":\"profile-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-7 h-7 rounded-full bg-[#312E81] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xs font-semibold\",children:(user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0))||'U'})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-[#1C1917] hidden md:block\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(ChevronDown,{size:14,className:\"text-[#A8A29E]\"})]}),showProfile&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0\",onClick:()=>setShowProfile(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-full mt-1 w-48 bg-white rounded-xl shadow-lg border border-[#E7E5E4] py-1 z-50 animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 border-b border-[#E7E5E4]\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-[#A8A29E]\",children:user===null||user===void 0?void 0:user.email})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\",\"data-testid\":\"profile-logout\",children:\"Logout\"})]})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useAuth","Bell","Search","ChevronDown","API","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_user$name","user","logout","showProfile","setShowProfile","unreadCount","setUnreadCount","get","then","res","data","filter","n","is_read","length","catch","className","children","size","type","placeholder","onClick","name","charAt","email"],"sources":["/app/frontend/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { Bell, Search, ChevronDown } from 'lucide-react';\nimport API from '../api';\n\nexport default function Header() {\n  const { user, logout } = useAuth();\n  const [showProfile, setShowProfile] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n\n  useEffect(() => {\n    API.get('/api/notifications').then(res => {\n      setUnreadCount(res.data.filter(n => !n.is_read).length);\n    }).catch(() => {});\n  }, []);\n\n  return (\n    <header className=\"h-14 bg-white border-b border-[#E7E5E4] flex items-center justify-between px-6 shrink-0\" data-testid=\"header\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"relative hidden md:block\">\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-[#A8A29E]\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            className=\"pl-9 pr-4 py-1.5 w-64 rounded-lg bg-[#F5F5F4] border border-transparent focus:border-[#6366F1] focus:bg-white text-sm outline-none transition-all\"\n            data-testid=\"header-search\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <button className=\"relative p-2 rounded-lg hover:bg-[#F5F5F4] transition-colors\" data-testid=\"notifications-bell\">\n          <Bell size={18} className=\"text-[#57534E]\" />\n          {unreadCount > 0 && (\n            <span className=\"absolute -top-0.5 -right-0.5 w-4 h-4 bg-[#EF4444] rounded-full text-white text-[10px] flex items-center justify-center font-medium\">{unreadCount}</span>\n          )}\n        </button>\n\n        <div className=\"relative\">\n          <button onClick={() => setShowProfile(!showProfile)} className=\"flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-[#F5F5F4] transition-colors\" data-testid=\"profile-menu\">\n            <div className=\"w-7 h-7 rounded-full bg-[#312E81] flex items-center justify-center\">\n              <span className=\"text-white text-xs font-semibold\">{user?.name?.charAt(0) || 'U'}</span>\n            </div>\n            <span className=\"text-sm font-medium text-[#1C1917] hidden md:block\">{user?.name}</span>\n            <ChevronDown size={14} className=\"text-[#A8A29E]\" />\n          </button>\n          {showProfile && (\n            <>\n              <div className=\"fixed inset-0\" onClick={() => setShowProfile(false)} />\n              <div className=\"absolute right-0 top-full mt-1 w-48 bg-white rounded-xl shadow-lg border border-[#E7E5E4] py-1 z-50 animate-fade-in\">\n                <div className=\"px-3 py-2 border-b border-[#E7E5E4]\">\n                  <p className=\"text-sm font-medium\">{user?.name}</p>\n                  <p className=\"text-xs text-[#A8A29E]\">{user?.email}</p>\n                </div>\n                <button onClick={logout} className=\"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\" data-testid=\"profile-logout\">Logout</button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}