{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import API from'../../api';import{useAuth}from'../../context/AuthContext';import{ArrowLeft,CheckCircle2,Circle,Play,FileText,ChevronDown,ChevronRight,Clock,Lock}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CourseView(){var _course$modules;const{courseId}=useParams();const{user}=useAuth();const navigate=useNavigate();const[course,setCourse]=useState(null);const[enrollment,setEnrollment]=useState(null);const[activeLesson,setActiveLesson]=useState(null);const[expandedModules,setExpandedModules]=useState({});const[loading,setLoading]=useState(true);useEffect(()=>{Promise.all([API.get(\"/api/courses/\".concat(courseId)),API.get('/api/enrollments',{params:{course_id:courseId}})]).then(_ref=>{var _c$data$modules,_c$data$modules2,_c$data$modules2$flat,_c$data$modules3,_c$data$modules3$,_c$data$modules3$$les;let[c,e]=_ref;setCourse(c.data);const myEnrollment=e.data.find(en=>en.student_id===(user===null||user===void 0?void 0:user.user_id));setEnrollment(myEnrollment);const expanded={};(_c$data$modules=c.data.modules)===null||_c$data$modules===void 0?void 0:_c$data$modules.forEach(m=>{expanded[m.module_id]=true;});setExpandedModules(expanded);const firstUncompletedLesson=(_c$data$modules2=c.data.modules)===null||_c$data$modules2===void 0?void 0:(_c$data$modules2$flat=_c$data$modules2.flatMap(m=>m.lessons))===null||_c$data$modules2$flat===void 0?void 0:_c$data$modules2$flat.find(l=>{var _myEnrollment$complet;return!(myEnrollment!==null&&myEnrollment!==void 0&&(_myEnrollment$complet=myEnrollment.completed_lessons)!==null&&_myEnrollment$complet!==void 0&&_myEnrollment$complet.includes(l.lesson_id));});if(firstUncompletedLesson)setActiveLesson(firstUncompletedLesson);else if((_c$data$modules3=c.data.modules)!==null&&_c$data$modules3!==void 0&&(_c$data$modules3$=_c$data$modules3[0])!==null&&_c$data$modules3$!==void 0&&(_c$data$modules3$$les=_c$data$modules3$.lessons)!==null&&_c$data$modules3$$les!==void 0&&_c$data$modules3$$les[0])setActiveLesson(c.data.modules[0].lessons[0]);}).catch(()=>toast.error('Error loading course')).finally(()=>setLoading(false));},[courseId]);const completeLesson=async lessonId=>{try{const res=await API.post(\"/api/lessons/\".concat(lessonId,\"/complete\"));setEnrollment(prev=>_objectSpread(_objectSpread({},prev),{},{completed_lessons:[...((prev===null||prev===void 0?void 0:prev.completed_lessons)||[]),lessonId],progress:res.data.progress}));toast.success('Lesson completed!');}catch(e){var _e$response,_e$response$data;toast.error(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.detail)||'Error');}};const isCompleted=lessonId=>{var _enrollment$completed;return enrollment===null||enrollment===void 0?void 0:(_enrollment$completed=enrollment.completed_lessons)===null||_enrollment$completed===void 0?void 0:_enrollment$completed.includes(lessonId);};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full\"})});if(!course)return/*#__PURE__*/_jsx(\"p\",{children:\"Course not found\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row h-[calc(100vh-7rem)] -m-6 md:-m-8\",\"data-testid\":\"course-view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-80 border-r border-[#E7E5E4] bg-white overflow-y-auto shrink-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-[#E7E5E4]\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/student'),className:\"flex items-center gap-1 text-sm text-[#6366F1] hover:underline mb-3\",\"data-testid\":\"back-to-dashboard\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:14}),\"Back\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-[#1C1917]\",style:{fontFamily:'Manrope'},children:course.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-[#F5F5F4] rounded-full h-1.5 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-[#6366F1] rounded-full\",style:{width:\"\".concat((enrollment===null||enrollment===void 0?void 0:enrollment.progress)||0,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-semibold text-[#6366F1]\",children:[(enrollment===null||enrollment===void 0?void 0:enrollment.progress)||0,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:(_course$modules=course.modules)===null||_course$modules===void 0?void 0:_course$modules.map((m,mi)=>{var _m$lessons;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setExpandedModules(prev=>_objectSpread(_objectSpread({},prev),{},{[m.module_id]:!prev[m.module_id]})),className:\"w-full flex items-center justify-between px-4 py-3 hover:bg-[#F5F5F4] transition-colors\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-[#1C1917] text-left\",children:[mi+1,\". \",m.title]}),expandedModules[m.module_id]?/*#__PURE__*/_jsx(ChevronDown,{size:16,className:\"text-[#A8A29E]\"}):/*#__PURE__*/_jsx(ChevronRight,{size:16,className:\"text-[#A8A29E]\"})]}),expandedModules[m.module_id]&&/*#__PURE__*/_jsx(\"div\",{className:\"pb-1\",children:(_m$lessons=m.lessons)===null||_m$lessons===void 0?void 0:_m$lessons.map(l=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveLesson(l),className:\"w-full flex items-center gap-3 px-6 py-2.5 text-left transition-colors \".concat((activeLesson===null||activeLesson===void 0?void 0:activeLesson.lesson_id)===l.lesson_id?'bg-[#EEF2FF] border-r-2 border-[#6366F1]':'hover:bg-[#F5F5F4]'),\"data-testid\":\"lesson-nav-\".concat(l.lesson_id),children:[isCompleted(l.lesson_id)?/*#__PURE__*/_jsx(CheckCircle2,{size:16,className:\"text-[#10B981] shrink-0\"}):/*#__PURE__*/_jsx(Circle,{size:16,className:\"text-[#D6D3D1] shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm truncate \".concat((activeLesson===null||activeLesson===void 0?void 0:activeLesson.lesson_id)===l.lesson_id?'font-medium text-[#312E81]':'text-[#57534E]'),children:l.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-[#A8A29E]\",children:[l.type==='video'?/*#__PURE__*/_jsx(Play,{size:10}):/*#__PURE__*/_jsx(FileText,{size:10}),/*#__PURE__*/_jsx(\"span\",{children:l.duration})]})]})]},l.lesson_id))})]},m.module_id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto bg-[#FAFAF9] p-6 md:p-8\",children:activeLesson?/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto animate-fade-in\",\"data-testid\":\"lesson-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1 text-xs text-[#A8A29E]\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded \".concat(activeLesson.type==='video'?'bg-blue-50 text-blue-600':'bg-green-50 text-green-600'),children:activeLesson.type}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{size:10}),activeLesson.duration]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-[#1C1917] mb-6\",style:{fontFamily:'Manrope'},children:activeLesson.title}),activeLesson.youtube_url&&/*#__PURE__*/_jsx(\"div\",{className:\"aspect-video rounded-xl overflow-hidden mb-6 bg-black\",children:/*#__PURE__*/_jsx(\"iframe\",{src:activeLesson.youtube_url,className:\"w-full h-full\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true,title:activeLesson.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl border border-[#E7E5E4] p-6 md:p-8 prose prose-sm max-w-none\",\"data-testid\":\"lesson-text-content\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:activeLesson.content}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center justify-between\",children:[isCompleted(activeLesson.lesson_id)?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-[#10B981]\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Completed\"})]}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>completeLesson(activeLesson.lesson_id),className:\"flex items-center gap-2 px-6 py-2.5 bg-[#312E81] text-white rounded-lg font-medium text-sm hover:bg-[#312E81]/90 active:scale-[0.98] transition-all\",\"data-testid\":\"mark-complete-btn\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:16}),\"Mark as Complete\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _course$modules2;const allLessons=((_course$modules2=course.modules)===null||_course$modules2===void 0?void 0:_course$modules2.flatMap(m=>m.lessons))||[];const idx=allLessons.findIndex(l=>l.lesson_id===activeLesson.lesson_id);if(idx<allLessons.length-1)setActiveLesson(allLessons[idx+1]);},className:\"flex items-center gap-1 text-sm text-[#6366F1] font-medium hover:underline\",\"data-testid\":\"next-lesson-btn\",children:[\"Next Lesson \",/*#__PURE__*/_jsx(ChevronRight,{size:16})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-[#A8A29E]\",children:\"Select a lesson to start learning\"})})})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","API","useAuth","ArrowLeft","CheckCircle2","Circle","Play","FileText","ChevronDown","ChevronRight","Clock","Lock","toast","jsx","_jsx","jsxs","_jsxs","CourseView","_course$modules","courseId","user","navigate","course","setCourse","enrollment","setEnrollment","activeLesson","setActiveLesson","expandedModules","setExpandedModules","loading","setLoading","Promise","all","get","concat","params","course_id","then","_ref","_c$data$modules","_c$data$modules2","_c$data$modules2$flat","_c$data$modules3","_c$data$modules3$","_c$data$modules3$$les","c","e","data","myEnrollment","find","en","student_id","user_id","expanded","modules","forEach","m","module_id","firstUncompletedLesson","flatMap","lessons","l","_myEnrollment$complet","completed_lessons","includes","lesson_id","catch","error","finally","completeLesson","lessonId","res","post","prev","_objectSpread","progress","success","_e$response","_e$response$data","response","detail","isCompleted","_enrollment$completed","className","children","onClick","size","style","fontFamily","title","width","map","mi","_m$lessons","type","duration","youtube_url","src","allow","allowFullScreen","dangerouslySetInnerHTML","__html","content","_course$modules2","allLessons","idx","findIndex","length"],"sources":["/app/frontend/src/pages/student/CourseView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport API from '../../api';\nimport { useAuth } from '../../context/AuthContext';\nimport { ArrowLeft, CheckCircle2, Circle, Play, FileText, ChevronDown, ChevronRight, Clock, Lock } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nexport default function CourseView() {\n  const { courseId } = useParams();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [course, setCourse] = useState(null);\n  const [enrollment, setEnrollment] = useState(null);\n  const [activeLesson, setActiveLesson] = useState(null);\n  const [expandedModules, setExpandedModules] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    Promise.all([\n      API.get(`/api/courses/${courseId}`),\n      API.get('/api/enrollments', { params: { course_id: courseId } }),\n    ]).then(([c, e]) => {\n      setCourse(c.data);\n      const myEnrollment = e.data.find(en => en.student_id === user?.user_id);\n      setEnrollment(myEnrollment);\n      const expanded = {};\n      c.data.modules?.forEach(m => { expanded[m.module_id] = true; });\n      setExpandedModules(expanded);\n      const firstUncompletedLesson = c.data.modules?.flatMap(m => m.lessons)?.find(l => !myEnrollment?.completed_lessons?.includes(l.lesson_id));\n      if (firstUncompletedLesson) setActiveLesson(firstUncompletedLesson);\n      else if (c.data.modules?.[0]?.lessons?.[0]) setActiveLesson(c.data.modules[0].lessons[0]);\n    }).catch(() => toast.error('Error loading course')).finally(() => setLoading(false));\n  }, [courseId]);\n\n  const completeLesson = async (lessonId) => {\n    try {\n      const res = await API.post(`/api/lessons/${lessonId}/complete`);\n      setEnrollment(prev => ({\n        ...prev,\n        completed_lessons: [...(prev?.completed_lessons || []), lessonId],\n        progress: res.data.progress\n      }));\n      toast.success('Lesson completed!');\n    } catch (e) { toast.error(e.response?.data?.detail || 'Error'); }\n  };\n\n  const isCompleted = (lessonId) => enrollment?.completed_lessons?.includes(lessonId);\n\n  if (loading) return <div className=\"flex items-center justify-center h-64\"><div className=\"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full\" /></div>;\n  if (!course) return <p>Course not found</p>;\n\n  return (\n    <div className=\"flex flex-col md:flex-row h-[calc(100vh-7rem)] -m-6 md:-m-8\" data-testid=\"course-view\">\n      {/* Sidebar - Module List */}\n      <div className=\"w-full md:w-80 border-r border-[#E7E5E4] bg-white overflow-y-auto shrink-0\">\n        <div className=\"p-4 border-b border-[#E7E5E4]\">\n          <button onClick={() => navigate('/student')} className=\"flex items-center gap-1 text-sm text-[#6366F1] hover:underline mb-3\" data-testid=\"back-to-dashboard\"><ArrowLeft size={14} />Back</button>\n          <h2 className=\"font-bold text-[#1C1917]\" style={{ fontFamily: 'Manrope' }}>{course.title}</h2>\n          <div className=\"flex items-center gap-2 mt-2\">\n            <div className=\"flex-1 bg-[#F5F5F4] rounded-full h-1.5 overflow-hidden\">\n              <div className=\"h-full bg-[#6366F1] rounded-full\" style={{ width: `${enrollment?.progress || 0}%` }} />\n            </div>\n            <span className=\"text-xs font-semibold text-[#6366F1]\">{enrollment?.progress || 0}%</span>\n          </div>\n        </div>\n\n        <div className=\"py-2\">\n          {course.modules?.map((m, mi) => (\n            <div key={m.module_id}>\n              <button onClick={() => setExpandedModules(prev => ({ ...prev, [m.module_id]: !prev[m.module_id] }))} className=\"w-full flex items-center justify-between px-4 py-3 hover:bg-[#F5F5F4] transition-colors\">\n                <span className=\"text-sm font-semibold text-[#1C1917] text-left\">{mi + 1}. {m.title}</span>\n                {expandedModules[m.module_id] ? <ChevronDown size={16} className=\"text-[#A8A29E]\" /> : <ChevronRight size={16} className=\"text-[#A8A29E]\" />}\n              </button>\n              {expandedModules[m.module_id] && (\n                <div className=\"pb-1\">\n                  {m.lessons?.map((l) => (\n                    <button key={l.lesson_id} onClick={() => setActiveLesson(l)} className={`w-full flex items-center gap-3 px-6 py-2.5 text-left transition-colors ${activeLesson?.lesson_id === l.lesson_id ? 'bg-[#EEF2FF] border-r-2 border-[#6366F1]' : 'hover:bg-[#F5F5F4]'}`} data-testid={`lesson-nav-${l.lesson_id}`}>\n                      {isCompleted(l.lesson_id) ? <CheckCircle2 size={16} className=\"text-[#10B981] shrink-0\" /> : <Circle size={16} className=\"text-[#D6D3D1] shrink-0\" />}\n                      <div className=\"flex-1 min-w-0\">\n                        <p className={`text-sm truncate ${activeLesson?.lesson_id === l.lesson_id ? 'font-medium text-[#312E81]' : 'text-[#57534E]'}`}>{l.title}</p>\n                        <div className=\"flex items-center gap-2 text-xs text-[#A8A29E]\">\n                          {l.type === 'video' ? <Play size={10} /> : <FileText size={10} />}\n                          <span>{l.duration}</span>\n                        </div>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Content - Lesson Player */}\n      <div className=\"flex-1 overflow-y-auto bg-[#FAFAF9] p-6 md:p-8\">\n        {activeLesson ? (\n          <div className=\"max-w-3xl mx-auto animate-fade-in\" data-testid=\"lesson-content\">\n            <div className=\"flex items-center gap-2 mb-1 text-xs text-[#A8A29E]\">\n              <span className={`px-2 py-0.5 rounded ${activeLesson.type === 'video' ? 'bg-blue-50 text-blue-600' : 'bg-green-50 text-green-600'}`}>{activeLesson.type}</span>\n              <span className=\"flex items-center gap-1\"><Clock size={10} />{activeLesson.duration}</span>\n            </div>\n            <h1 className=\"text-2xl font-bold text-[#1C1917] mb-6\" style={{ fontFamily: 'Manrope' }}>{activeLesson.title}</h1>\n\n            {activeLesson.youtube_url && (\n              <div className=\"aspect-video rounded-xl overflow-hidden mb-6 bg-black\">\n                <iframe src={activeLesson.youtube_url} className=\"w-full h-full\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen title={activeLesson.title} />\n              </div>\n            )}\n\n            <div className=\"bg-white rounded-xl border border-[#E7E5E4] p-6 md:p-8 prose prose-sm max-w-none\" data-testid=\"lesson-text-content\">\n              <div dangerouslySetInnerHTML={{ __html: activeLesson.content }} />\n            </div>\n\n            <div className=\"mt-6 flex items-center justify-between\">\n              {isCompleted(activeLesson.lesson_id) ? (\n                <div className=\"flex items-center gap-2 text-[#10B981]\">\n                  <CheckCircle2 size={20} />\n                  <span className=\"text-sm font-medium\">Completed</span>\n                </div>\n              ) : (\n                <button onClick={() => completeLesson(activeLesson.lesson_id)} className=\"flex items-center gap-2 px-6 py-2.5 bg-[#312E81] text-white rounded-lg font-medium text-sm hover:bg-[#312E81]/90 active:scale-[0.98] transition-all\" data-testid=\"mark-complete-btn\">\n                  <CheckCircle2 size={16} />Mark as Complete\n                </button>\n              )}\n\n              <button onClick={() => {\n                const allLessons = course.modules?.flatMap(m => m.lessons) || [];\n                const idx = allLessons.findIndex(l => l.lesson_id === activeLesson.lesson_id);\n                if (idx < allLessons.length - 1) setActiveLesson(allLessons[idx + 1]);\n              }} className=\"flex items-center gap-1 text-sm text-[#6366F1] font-medium hover:underline\" data-testid=\"next-lesson-btn\">\n                Next Lesson <ChevronRight size={16} />\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <p className=\"text-[#A8A29E]\">Select a lesson to start learning</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"kGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,GAAG,KAAM,WAAW,CAC3B,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,SAAS,CAAEC,YAAY,CAAEC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,YAAY,CAAEC,KAAK,CAAEC,IAAI,KAAQ,cAAc,CACtH,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,KAAAC,eAAA,CACnC,KAAM,CAAEC,QAAS,CAAC,CAAGpB,SAAS,CAAC,CAAC,CAChC,KAAM,CAAEqB,IAAK,CAAC,CAAGlB,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAAmB,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACsB,MAAM,CAAEC,SAAS,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAAC6B,YAAY,CAAEC,eAAe,CAAC,CAAG9B,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAC+B,eAAe,CAAEC,kBAAkB,CAAC,CAAGhC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1D,KAAM,CAACiC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdkC,OAAO,CAACC,GAAG,CAAC,CACVhC,GAAG,CAACiC,GAAG,iBAAAC,MAAA,CAAiBhB,QAAQ,CAAE,CAAC,CACnClB,GAAG,CAACiC,GAAG,CAAC,kBAAkB,CAAE,CAAEE,MAAM,CAAE,CAAEC,SAAS,CAAElB,QAAS,CAAE,CAAC,CAAC,CACjE,CAAC,CAACmB,IAAI,CAACC,IAAA,EAAY,KAAAC,eAAA,CAAAC,gBAAA,CAAAC,qBAAA,CAAAC,gBAAA,CAAAC,iBAAA,CAAAC,qBAAA,IAAX,CAACC,CAAC,CAAEC,CAAC,CAAC,CAAAR,IAAA,CACbhB,SAAS,CAACuB,CAAC,CAACE,IAAI,CAAC,CACjB,KAAM,CAAAC,YAAY,CAAGF,CAAC,CAACC,IAAI,CAACE,IAAI,CAACC,EAAE,EAAIA,EAAE,CAACC,UAAU,IAAKhC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiC,OAAO,EAAC,CACvE5B,aAAa,CAACwB,YAAY,CAAC,CAC3B,KAAM,CAAAK,QAAQ,CAAG,CAAC,CAAC,CACnB,CAAAd,eAAA,CAAAM,CAAC,CAACE,IAAI,CAACO,OAAO,UAAAf,eAAA,iBAAdA,eAAA,CAAgBgB,OAAO,CAACC,CAAC,EAAI,CAAEH,QAAQ,CAACG,CAAC,CAACC,SAAS,CAAC,CAAG,IAAI,CAAE,CAAC,CAAC,CAC/D7B,kBAAkB,CAACyB,QAAQ,CAAC,CAC5B,KAAM,CAAAK,sBAAsB,EAAAlB,gBAAA,CAAGK,CAAC,CAACE,IAAI,CAACO,OAAO,UAAAd,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBmB,OAAO,CAACH,CAAC,EAAIA,CAAC,CAACI,OAAO,CAAC,UAAAnB,qBAAA,iBAAvCA,qBAAA,CAAyCQ,IAAI,CAACY,CAAC,OAAAC,qBAAA,OAAI,EAACd,YAAY,SAAZA,YAAY,YAAAc,qBAAA,CAAZd,YAAY,CAAEe,iBAAiB,UAAAD,qBAAA,WAA/BA,qBAAA,CAAiCE,QAAQ,CAACH,CAAC,CAACI,SAAS,CAAC,IAAC,CAC1I,GAAIP,sBAAsB,CAAEhC,eAAe,CAACgC,sBAAsB,CAAC,CAAC,IAC/D,KAAAhB,gBAAA,CAAIG,CAAC,CAACE,IAAI,CAACO,OAAO,UAAAZ,gBAAA,YAAAC,iBAAA,CAAdD,gBAAA,CAAiB,CAAC,CAAC,UAAAC,iBAAA,YAAAC,qBAAA,CAAnBD,iBAAA,CAAqBiB,OAAO,UAAAhB,qBAAA,WAA5BA,qBAAA,CAA+B,CAAC,CAAC,CAAElB,eAAe,CAACmB,CAAC,CAACE,IAAI,CAACO,OAAO,CAAC,CAAC,CAAC,CAACM,OAAO,CAAC,CAAC,CAAC,CAAC,CAC3F,CAAC,CAAC,CAACM,KAAK,CAAC,IAAMvD,KAAK,CAACwD,KAAK,CAAC,sBAAsB,CAAC,CAAC,CAACC,OAAO,CAAC,IAAMtC,UAAU,CAAC,KAAK,CAAC,CAAC,CACtF,CAAC,CAAE,CAACZ,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAmD,cAAc,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACzC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAvE,GAAG,CAACwE,IAAI,iBAAAtC,MAAA,CAAiBoC,QAAQ,aAAW,CAAC,CAC/D9C,aAAa,CAACiD,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACbD,IAAI,MACPV,iBAAiB,CAAE,CAAC,IAAI,CAAAU,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEV,iBAAiB,GAAI,EAAE,CAAC,CAAEO,QAAQ,CAAC,CACjEK,QAAQ,CAAEJ,GAAG,CAACxB,IAAI,CAAC4B,QAAQ,EAC3B,CAAC,CACHhE,KAAK,CAACiE,OAAO,CAAC,mBAAmB,CAAC,CACpC,CAAE,MAAO9B,CAAC,CAAE,KAAA+B,WAAA,CAAAC,gBAAA,CAAEnE,KAAK,CAACwD,KAAK,CAAC,EAAAU,WAAA,CAAA/B,CAAC,CAACiC,QAAQ,UAAAF,WAAA,kBAAAC,gBAAA,CAAVD,WAAA,CAAY9B,IAAI,UAAA+B,gBAAA,iBAAhBA,gBAAA,CAAkBE,MAAM,GAAI,OAAO,CAAC,CAAE,CAClE,CAAC,CAED,KAAM,CAAAC,WAAW,CAAIX,QAAQ,OAAAY,qBAAA,OAAK,CAAA3D,UAAU,SAAVA,UAAU,kBAAA2D,qBAAA,CAAV3D,UAAU,CAAEwC,iBAAiB,UAAAmB,qBAAA,iBAA7BA,qBAAA,CAA+BlB,QAAQ,CAACM,QAAQ,CAAC,GAEnF,GAAIzC,OAAO,CAAE,mBAAOhB,IAAA,QAAKsE,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cAACvE,IAAA,QAAKsE,SAAS,CAAC,mFAAmF,CAAE,CAAC,CAAK,CAAC,CACtL,GAAI,CAAC9D,MAAM,CAAE,mBAAOR,IAAA,MAAAuE,QAAA,CAAG,kBAAgB,CAAG,CAAC,CAE3C,mBACErE,KAAA,QAAKoE,SAAS,CAAC,6DAA6D,CAAC,cAAY,aAAa,CAAAC,QAAA,eAEpGrE,KAAA,QAAKoE,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACzFrE,KAAA,QAAKoE,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5CrE,KAAA,WAAQsE,OAAO,CAAEA,CAAA,GAAMjE,QAAQ,CAAC,UAAU,CAAE,CAAC+D,SAAS,CAAC,qEAAqE,CAAC,cAAY,mBAAmB,CAAAC,QAAA,eAACvE,IAAA,CAACX,SAAS,EAACoF,IAAI,CAAE,EAAG,CAAE,CAAC,OAAI,EAAQ,CAAC,cACjMzE,IAAA,OAAIsE,SAAS,CAAC,0BAA0B,CAACI,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAJ,QAAA,CAAE/D,MAAM,CAACoE,KAAK,CAAK,CAAC,cAC9F1E,KAAA,QAAKoE,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CvE,IAAA,QAAKsE,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrEvE,IAAA,QAAKsE,SAAS,CAAC,kCAAkC,CAACI,KAAK,CAAE,CAAEG,KAAK,IAAAxD,MAAA,CAAK,CAAAX,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEoD,QAAQ,GAAI,CAAC,KAAI,CAAE,CAAE,CAAC,CACpG,CAAC,cACN5D,KAAA,SAAMoE,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAAE,CAAA7D,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEoD,QAAQ,GAAI,CAAC,CAAC,GAAC,EAAM,CAAC,EACvF,CAAC,EACH,CAAC,cAEN9D,IAAA,QAAKsE,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAAnE,eAAA,CAClBI,MAAM,CAACiC,OAAO,UAAArC,eAAA,iBAAdA,eAAA,CAAgB0E,GAAG,CAAC,CAACnC,CAAC,CAAEoC,EAAE,QAAAC,UAAA,oBACzB9E,KAAA,QAAAqE,QAAA,eACErE,KAAA,WAAQsE,OAAO,CAAEA,CAAA,GAAMzD,kBAAkB,CAAC6C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAACjB,CAAC,CAACC,SAAS,EAAG,CAACgB,IAAI,CAACjB,CAAC,CAACC,SAAS,CAAC,EAAG,CAAE,CAAC0B,SAAS,CAAC,yFAAyF,CAAAC,QAAA,eACtMrE,KAAA,SAAMoE,SAAS,CAAC,gDAAgD,CAAAC,QAAA,EAAEQ,EAAE,CAAG,CAAC,CAAC,IAAE,CAACpC,CAAC,CAACiC,KAAK,EAAO,CAAC,CAC1F9D,eAAe,CAAC6B,CAAC,CAACC,SAAS,CAAC,cAAG5C,IAAA,CAACN,WAAW,EAAC+E,IAAI,CAAE,EAAG,CAACH,SAAS,CAAC,gBAAgB,CAAE,CAAC,cAAGtE,IAAA,CAACL,YAAY,EAAC8E,IAAI,CAAE,EAAG,CAACH,SAAS,CAAC,gBAAgB,CAAE,CAAC,EACtI,CAAC,CACRxD,eAAe,CAAC6B,CAAC,CAACC,SAAS,CAAC,eAC3B5C,IAAA,QAAKsE,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAAS,UAAA,CAClBrC,CAAC,CAACI,OAAO,UAAAiC,UAAA,iBAATA,UAAA,CAAWF,GAAG,CAAE9B,CAAC,eAChB9C,KAAA,WAA0BsE,OAAO,CAAEA,CAAA,GAAM3D,eAAe,CAACmC,CAAC,CAAE,CAACsB,SAAS,2EAAAjD,MAAA,CAA4E,CAAAT,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEwC,SAAS,IAAKJ,CAAC,CAACI,SAAS,CAAG,0CAA0C,CAAG,oBAAoB,CAAG,CAAC,4BAAA/B,MAAA,CAA2B2B,CAAC,CAACI,SAAS,CAAG,CAAAmB,QAAA,EACvSH,WAAW,CAACpB,CAAC,CAACI,SAAS,CAAC,cAAGpD,IAAA,CAACV,YAAY,EAACmF,IAAI,CAAE,EAAG,CAACH,SAAS,CAAC,yBAAyB,CAAE,CAAC,cAAGtE,IAAA,CAACT,MAAM,EAACkF,IAAI,CAAE,EAAG,CAACH,SAAS,CAAC,yBAAyB,CAAE,CAAC,cACrJpE,KAAA,QAAKoE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvE,IAAA,MAAGsE,SAAS,qBAAAjD,MAAA,CAAsB,CAAAT,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEwC,SAAS,IAAKJ,CAAC,CAACI,SAAS,CAAG,4BAA4B,CAAG,gBAAgB,CAAG,CAAAmB,QAAA,CAAEvB,CAAC,CAAC4B,KAAK,CAAI,CAAC,cAC5I1E,KAAA,QAAKoE,SAAS,CAAC,gDAAgD,CAAAC,QAAA,EAC5DvB,CAAC,CAACiC,IAAI,GAAK,OAAO,cAAGjF,IAAA,CAACR,IAAI,EAACiF,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGzE,IAAA,CAACP,QAAQ,EAACgF,IAAI,CAAE,EAAG,CAAE,CAAC,cACjEzE,IAAA,SAAAuE,QAAA,CAAOvB,CAAC,CAACkC,QAAQ,CAAO,CAAC,EACtB,CAAC,EACH,CAAC,GARKlC,CAAC,CAACI,SASP,CACT,CAAC,CACC,CACN,GApBOT,CAAC,CAACC,SAqBP,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAGN5C,IAAA,QAAKsE,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAC5D3D,YAAY,cACXV,KAAA,QAAKoE,SAAS,CAAC,mCAAmC,CAAC,cAAY,gBAAgB,CAAAC,QAAA,eAC7ErE,KAAA,QAAKoE,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAClEvE,IAAA,SAAMsE,SAAS,wBAAAjD,MAAA,CAAyBT,YAAY,CAACqE,IAAI,GAAK,OAAO,CAAG,0BAA0B,CAAG,4BAA4B,CAAG,CAAAV,QAAA,CAAE3D,YAAY,CAACqE,IAAI,CAAO,CAAC,cAC/J/E,KAAA,SAAMoE,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAACvE,IAAA,CAACJ,KAAK,EAAC6E,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC7D,YAAY,CAACsE,QAAQ,EAAO,CAAC,EACxF,CAAC,cACNlF,IAAA,OAAIsE,SAAS,CAAC,wCAAwC,CAACI,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAJ,QAAA,CAAE3D,YAAY,CAACgE,KAAK,CAAK,CAAC,CAEjHhE,YAAY,CAACuE,WAAW,eACvBnF,IAAA,QAAKsE,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cACpEvE,IAAA,WAAQoF,GAAG,CAAExE,YAAY,CAACuE,WAAY,CAACb,SAAS,CAAC,eAAe,CAACe,KAAK,CAAC,0FAA0F,CAACC,eAAe,MAACV,KAAK,CAAEhE,YAAY,CAACgE,KAAM,CAAE,CAAC,CAC5M,CACN,cAED5E,IAAA,QAAKsE,SAAS,CAAC,kFAAkF,CAAC,cAAY,qBAAqB,CAAAC,QAAA,cACjIvE,IAAA,QAAKuF,uBAAuB,CAAE,CAAEC,MAAM,CAAE5E,YAAY,CAAC6E,OAAQ,CAAE,CAAE,CAAC,CAC/D,CAAC,cAENvF,KAAA,QAAKoE,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EACpDH,WAAW,CAACxD,YAAY,CAACwC,SAAS,CAAC,cAClClD,KAAA,QAAKoE,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDvE,IAAA,CAACV,YAAY,EAACmF,IAAI,CAAE,EAAG,CAAE,CAAC,cAC1BzE,IAAA,SAAMsE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EACnD,CAAC,cAENrE,KAAA,WAAQsE,OAAO,CAAEA,CAAA,GAAMhB,cAAc,CAAC5C,YAAY,CAACwC,SAAS,CAAE,CAACkB,SAAS,CAAC,qJAAqJ,CAAC,cAAY,mBAAmB,CAAAC,QAAA,eAC5PvE,IAAA,CAACV,YAAY,EAACmF,IAAI,CAAE,EAAG,CAAE,CAAC,mBAC5B,EAAQ,CACT,cAEDvE,KAAA,WAAQsE,OAAO,CAAEA,CAAA,GAAM,KAAAkB,gBAAA,CACrB,KAAM,CAAAC,UAAU,CAAG,EAAAD,gBAAA,CAAAlF,MAAM,CAACiC,OAAO,UAAAiD,gBAAA,iBAAdA,gBAAA,CAAgB5C,OAAO,CAACH,CAAC,EAAIA,CAAC,CAACI,OAAO,CAAC,GAAI,EAAE,CAChE,KAAM,CAAA6C,GAAG,CAAGD,UAAU,CAACE,SAAS,CAAC7C,CAAC,EAAIA,CAAC,CAACI,SAAS,GAAKxC,YAAY,CAACwC,SAAS,CAAC,CAC7E,GAAIwC,GAAG,CAAGD,UAAU,CAACG,MAAM,CAAG,CAAC,CAAEjF,eAAe,CAAC8E,UAAU,CAACC,GAAG,CAAG,CAAC,CAAC,CAAC,CACvE,CAAE,CAACtB,SAAS,CAAC,4EAA4E,CAAC,cAAY,iBAAiB,CAAAC,QAAA,EAAC,cAC1G,cAAAvE,IAAA,CAACL,YAAY,EAAC8E,IAAI,CAAE,EAAG,CAAE,CAAC,EAChC,CAAC,EACN,CAAC,EACH,CAAC,cAENzE,IAAA,QAAKsE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCvE,IAAA,MAAGsE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,mCAAiC,CAAG,CAAC,CAChE,CACN,CACE,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}