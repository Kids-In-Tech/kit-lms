{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{ArrowLeft,Zap,Mail}from'lucide-react';import API from'../api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ForgotPassword(){const[email,setEmail]=useState('');const[loading,setLoading]=useState(false);const[sent,setSent]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();if(!email){setError('Email is required');return;}if(!/\\S+@\\S+\\.\\S+/.test(email)){setError('Invalid email format');return;}setLoading(true);setError('');try{await API.post('/api/auth/forgot-password',{email});setSent(true);toast.success('Reset link sent to your email');}catch(err){var _err$response,_err$response$data;const msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'No account found with this email';setError(msg);toast.error(msg);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-[#F8FAFC] px-4\",\"data-testid\":\"forgot-password-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-[420px] animate-fade-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl shadow-black/5 border border-[#E2E8F0] p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2.5 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-9 h-9 rounded-xl bg-gradient-to-br from-[#0D9488] to-[#14B8A6] flex items-center justify-center\",children:/*#__PURE__*/_jsx(Zap,{className:\"text-white\",size:18})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-base font-bold text-[#0F172A]\",children:\"Kids In Tech\"})]}),sent?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full bg-[#F0FDFA] flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Mail,{size:28,className:\"text-[#0D9488]\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-[#0F172A] mb-2\",children:\"Check your email\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-[#64748B] mb-6\",children:[\"We've sent a password reset link to \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-[#334155]\",children:email})]}),/*#__PURE__*/_jsxs(Link,{to:\"/login\",className:\"inline-flex items-center gap-2 text-sm font-semibold text-[#0D9488] hover:text-[#0F766E]\",style:{fontFamily:'Space Mono'},\"data-testid\":\"back-to-login-link\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:14}),\" Back to Sign In\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[22px] font-bold text-[#0F172A] mb-1.5\",children:\"Forgot password?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#64748B] mb-6\",children:\"Enter your email and we'll send you a reset link\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-[13px] font-semibold text-[#334155] mb-1.5\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>{setEmail(e.target.value);setError('');},className:\"w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all \".concat(error?'border-[#EF4444] focus:ring-2 focus:ring-red-100':'border-[#E2E8F0] focus:border-[#0D9488] focus:ring-2 focus:ring-teal-50'),placeholder:\"you@kidsintech.school\",disabled:loading,\"data-testid\":\"forgot-email\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-[#EF4444] mt-1.5 font-medium\",\"data-testid\":\"forgot-error\",children:error})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full py-3 bg-gradient-to-r from-[#0D9488] to-[#14B8A6] text-white rounded-xl font-bold text-sm active:scale-[0.98] transition-all disabled:opacity-50 shadow-lg shadow-teal-500/20\",style:{fontFamily:'Space Mono'},\"data-testid\":\"forgot-submit-btn\",children:loading?'Sending...':'Send Reset Link'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsxs(Link,{to:\"/login\",className:\"inline-flex items-center gap-1.5 text-sm font-semibold text-[#64748B] hover:text-[#0D9488] transition-colors\",style:{fontFamily:'Space Mono'},\"data-testid\":\"back-to-login-link\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:14}),\" Back to Sign In\"]})})]})]})})});}","map":{"version":3,"names":["React","useState","Link","ArrowLeft","Zap","Mail","API","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ForgotPassword","email","setEmail","loading","setLoading","sent","setSent","error","setError","handleSubmit","e","preventDefault","test","post","success","err","_err$response","_err$response$data","msg","response","data","detail","className","children","size","to","style","fontFamily","onSubmit","type","value","onChange","target","concat","placeholder","disabled"],"sources":["/app/frontend/src/pages/ForgotPassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ArrowLeft, Zap, Mail } from 'lucide-react';\nimport API from '../api';\nimport toast from 'react-hot-toast';\n\nexport default function ForgotPassword() {\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [sent, setSent] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email) { setError('Email is required'); return; }\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) { setError('Invalid email format'); return; }\n    setLoading(true);\n    setError('');\n    try {\n      await API.post('/api/auth/forgot-password', { email });\n      setSent(true);\n      toast.success('Reset link sent to your email');\n    } catch (err) {\n      const msg = err.response?.data?.detail || 'No account found with this email';\n      setError(msg);\n      toast.error(msg);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-[#F8FAFC] px-4\" data-testid=\"forgot-password-page\">\n      <div className=\"w-full max-w-[420px] animate-fade-up\">\n        <div className=\"bg-white rounded-2xl shadow-xl shadow-black/5 border border-[#E2E8F0] p-8\">\n          <div className=\"flex items-center gap-2.5 mb-8\">\n            <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-[#0D9488] to-[#14B8A6] flex items-center justify-center\">\n              <Zap className=\"text-white\" size={18} />\n            </div>\n            <span className=\"text-base font-bold text-[#0F172A]\">Kids In Tech</span>\n          </div>\n\n          {sent ? (\n            <div className=\"text-center py-4\">\n              <div className=\"w-16 h-16 rounded-full bg-[#F0FDFA] flex items-center justify-center mx-auto mb-4\">\n                <Mail size={28} className=\"text-[#0D9488]\" />\n              </div>\n              <h2 className=\"text-xl font-bold text-[#0F172A] mb-2\">Check your email</h2>\n              <p className=\"text-sm text-[#64748B] mb-6\">We've sent a password reset link to <strong className=\"text-[#334155]\">{email}</strong></p>\n              <Link to=\"/login\" className=\"inline-flex items-center gap-2 text-sm font-semibold text-[#0D9488] hover:text-[#0F766E]\" style={{ fontFamily: 'Space Mono' }} data-testid=\"back-to-login-link\">\n                <ArrowLeft size={14} /> Back to Sign In\n              </Link>\n            </div>\n          ) : (\n            <>\n              <h2 className=\"text-[22px] font-bold text-[#0F172A] mb-1.5\">Forgot password?</h2>\n              <p className=\"text-sm text-[#64748B] mb-6\">Enter your email and we'll send you a reset link</p>\n\n              <form onSubmit={handleSubmit} className=\"space-y-5\">\n                <div>\n                  <label className=\"block text-[13px] font-semibold text-[#334155] mb-1.5\">Email address</label>\n                  <input type=\"email\" value={email} onChange={e => { setEmail(e.target.value); setError(''); }}\n                    className={`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${error ? 'border-[#EF4444] focus:ring-2 focus:ring-red-100' : 'border-[#E2E8F0] focus:border-[#0D9488] focus:ring-2 focus:ring-teal-50'}`}\n                    placeholder=\"you@kidsintech.school\" disabled={loading} data-testid=\"forgot-email\" />\n                  {error && <p className=\"text-xs text-[#EF4444] mt-1.5 font-medium\" data-testid=\"forgot-error\">{error}</p>}\n                </div>\n\n                <button type=\"submit\" disabled={loading}\n                  className=\"w-full py-3 bg-gradient-to-r from-[#0D9488] to-[#14B8A6] text-white rounded-xl font-bold text-sm active:scale-[0.98] transition-all disabled:opacity-50 shadow-lg shadow-teal-500/20\"\n                  style={{ fontFamily: 'Space Mono' }} data-testid=\"forgot-submit-btn\">\n                  {loading ? 'Sending...' : 'Send Reset Link'}\n                </button>\n              </form>\n\n              <div className=\"mt-6 text-center\">\n                <Link to=\"/login\" className=\"inline-flex items-center gap-1.5 text-sm font-semibold text-[#64748B] hover:text-[#0D9488] transition-colors\" style={{ fontFamily: 'Space Mono' }} data-testid=\"back-to-login-link\">\n                  <ArrowLeft size={14} /> Back to Sign In\n                </Link>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}