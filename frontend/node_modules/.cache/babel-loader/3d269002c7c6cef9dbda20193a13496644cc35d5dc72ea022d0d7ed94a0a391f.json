{"ast":null,"code":"import React,{useState,useEffect}from'react';import API from'../../api';import{useAuth}from'../../context/AuthContext';import{BookOpen,Users,ClipboardList,TrendingUp}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InstructorDashboard(){const{user}=useAuth();const[courses,setCourses]=useState([]);const[assignments,setAssignments]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{Promise.all([API.get('/api/courses'),API.get('/api/assignments')]).then(_ref=>{let[c,a]=_ref;setCourses(c.data);setAssignments(a.data);}).catch(()=>{}).finally(()=>setLoading(false));},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full\"})});const totalStudents=courses.reduce((acc,c)=>acc+(c.enrollment_count||0),0);const pendingSubs=assignments.reduce((acc,a)=>acc+(a.submission_count||0),0);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 animate-fade-in\",\"data-testid\":\"instructor-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-[#1C1917]\",style:{fontFamily:'Manrope'},children:[\"Welcome, \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#57534E] mt-1\",children:\"Your teaching overview\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[{label:'My Courses',value:courses.length,icon:BookOpen,color:'#312E81',bg:'#EEF2FF'},{label:'Students',value:totalStudents,icon:Users,color:'#059669',bg:'#ECFDF5'},{label:'Assignments',value:assignments.length,icon:ClipboardList,color:'#D97706',bg:'#FFFBEB'},{label:'Submissions',value:pendingSubs,icon:TrendingUp,color:'#6366F1',bg:'#F5F3FF'}].map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-[#E7E5E4] p-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-lg flex items-center justify-center mb-3\",style:{backgroundColor:s.bg},children:/*#__PURE__*/_jsx(s.icon,{size:18,style:{color:s.color}})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",style:{fontFamily:'Manrope'},children:s.value}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-[#A8A29E] mt-1\",children:s.label})]},s.label))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-[#E7E5E4] p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",style:{fontFamily:'Manrope'},children:\"My Courses\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[courses.map(c=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border border-[#E7E5E4] rounded-xl hover:bg-[#FAFAF9] transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-lg bg-[#EEF2FF] flex items-center justify-center\",children:/*#__PURE__*/_jsx(BookOpen,{size:20,className:\"text-[#6366F1]\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-[#1C1917]\",children:c.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-[#A8A29E]\",children:[c.lesson_count||0,\" lessons \\xB7 \",c.enrollment_count||0,\" students\"]})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded-full text-xs font-medium \".concat(c.status==='published'?'bg-green-100 text-green-700':'bg-amber-100 text-amber-700'),children:c.status})]},c.course_id)),courses.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#A8A29E]\",children:\"No courses assigned yet.\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","API","useAuth","BookOpen","Users","ClipboardList","TrendingUp","jsx","_jsx","jsxs","_jsxs","InstructorDashboard","user","courses","setCourses","assignments","setAssignments","loading","setLoading","Promise","all","get","then","_ref","c","a","data","catch","finally","className","children","totalStudents","reduce","acc","enrollment_count","pendingSubs","submission_count","style","fontFamily","name","label","value","length","icon","color","bg","map","s","backgroundColor","size","title","lesson_count","concat","status","course_id"],"sources":["/app/frontend/src/pages/instructor/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../../api';\nimport { useAuth } from '../../context/AuthContext';\nimport { BookOpen, Users, ClipboardList, TrendingUp } from 'lucide-react';\n\nexport default function InstructorDashboard() {\n  const { user } = useAuth();\n  const [courses, setCourses] = useState([]);\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    Promise.all([API.get('/api/courses'), API.get('/api/assignments')])\n      .then(([c, a]) => { setCourses(c.data); setAssignments(a.data); })\n      .catch(() => {}).finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div className=\"flex items-center justify-center h-64\"><div className=\"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full\" /></div>;\n\n  const totalStudents = courses.reduce((acc, c) => acc + (c.enrollment_count || 0), 0);\n  const pendingSubs = assignments.reduce((acc, a) => acc + (a.submission_count || 0), 0);\n\n  return (\n    <div className=\"space-y-6 animate-fade-in\" data-testid=\"instructor-dashboard\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-[#1C1917]\" style={{ fontFamily: 'Manrope' }}>Welcome, {user?.name}</h1>\n        <p className=\"text-sm text-[#57534E] mt-1\">Your teaching overview</p>\n      </div>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        {[\n          { label: 'My Courses', value: courses.length, icon: BookOpen, color: '#312E81', bg: '#EEF2FF' },\n          { label: 'Students', value: totalStudents, icon: Users, color: '#059669', bg: '#ECFDF5' },\n          { label: 'Assignments', value: assignments.length, icon: ClipboardList, color: '#D97706', bg: '#FFFBEB' },\n          { label: 'Submissions', value: pendingSubs, icon: TrendingUp, color: '#6366F1', bg: '#F5F3FF' },\n        ].map(s => (\n          <div key={s.label} className=\"bg-white rounded-xl border border-[#E7E5E4] p-5\">\n            <div className=\"w-10 h-10 rounded-lg flex items-center justify-center mb-3\" style={{ backgroundColor: s.bg }}><s.icon size={18} style={{ color: s.color }} /></div>\n            <p className=\"text-2xl font-bold\" style={{ fontFamily: 'Manrope' }}>{s.value}</p>\n            <p className=\"text-xs text-[#A8A29E] mt-1\">{s.label}</p>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"bg-white rounded-xl border border-[#E7E5E4] p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\" style={{ fontFamily: 'Manrope' }}>My Courses</h3>\n        <div className=\"space-y-3\">\n          {courses.map(c => (\n            <div key={c.course_id} className=\"flex items-center justify-between p-4 border border-[#E7E5E4] rounded-xl hover:bg-[#FAFAF9] transition-colors\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 rounded-lg bg-[#EEF2FF] flex items-center justify-center\"><BookOpen size={20} className=\"text-[#6366F1]\" /></div>\n                <div>\n                  <p className=\"font-medium text-[#1C1917]\">{c.title}</p>\n                  <p className=\"text-xs text-[#A8A29E]\">{c.lesson_count || 0} lessons Â· {c.enrollment_count || 0} students</p>\n                </div>\n              </div>\n              <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${c.status === 'published' ? 'bg-green-100 text-green-700' : 'bg-amber-100 text-amber-700'}`}>{c.status}</span>\n            </div>\n          ))}\n          {courses.length === 0 && <p className=\"text-sm text-[#A8A29E]\">No courses assigned yet.</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,WAAW,CAC3B,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,QAAQ,CAAEC,KAAK,CAAEC,aAAa,CAAEC,UAAU,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1E,cAAe,SAAS,CAAAC,mBAAmBA,CAAA,CAAG,CAC5C,KAAM,CAAEC,IAAK,CAAC,CAAGV,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdmB,OAAO,CAACC,GAAG,CAAC,CAACnB,GAAG,CAACoB,GAAG,CAAC,cAAc,CAAC,CAAEpB,GAAG,CAACoB,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAChEC,IAAI,CAACC,IAAA,EAAY,IAAX,CAACC,CAAC,CAAEC,CAAC,CAAC,CAAAF,IAAA,CAAOT,UAAU,CAACU,CAAC,CAACE,IAAI,CAAC,CAAEV,cAAc,CAACS,CAAC,CAACC,IAAI,CAAC,CAAE,CAAC,CAAC,CACjEC,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,IAAMV,UAAU,CAAC,KAAK,CAAC,CAAC,CACrD,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,mBAAOT,IAAA,QAAKqB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cAACtB,IAAA,QAAKqB,SAAS,CAAC,mFAAmF,CAAE,CAAC,CAAK,CAAC,CAEtL,KAAM,CAAAE,aAAa,CAAGlB,OAAO,CAACmB,MAAM,CAAC,CAACC,GAAG,CAAET,CAAC,GAAKS,GAAG,EAAIT,CAAC,CAACU,gBAAgB,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CACpF,KAAM,CAAAC,WAAW,CAAGpB,WAAW,CAACiB,MAAM,CAAC,CAACC,GAAG,CAAER,CAAC,GAAKQ,GAAG,EAAIR,CAAC,CAACW,gBAAgB,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAEtF,mBACE1B,KAAA,QAAKmB,SAAS,CAAC,2BAA2B,CAAC,cAAY,sBAAsB,CAAAC,QAAA,eAC3EpB,KAAA,QAAAoB,QAAA,eACEpB,KAAA,OAAImB,SAAS,CAAC,mCAAmC,CAACQ,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAR,QAAA,EAAC,WAAS,CAAClB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2B,IAAI,EAAK,CAAC,cAC9G/B,IAAA,MAAGqB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,wBAAsB,CAAG,CAAC,EAClE,CAAC,cAENtB,IAAA,QAAKqB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD,CACC,CAAEU,KAAK,CAAE,YAAY,CAAEC,KAAK,CAAE5B,OAAO,CAAC6B,MAAM,CAAEC,IAAI,CAAExC,QAAQ,CAAEyC,KAAK,CAAE,SAAS,CAAEC,EAAE,CAAE,SAAU,CAAC,CAC/F,CAAEL,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAEV,aAAa,CAAEY,IAAI,CAAEvC,KAAK,CAAEwC,KAAK,CAAE,SAAS,CAAEC,EAAE,CAAE,SAAU,CAAC,CACzF,CAAEL,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAE1B,WAAW,CAAC2B,MAAM,CAAEC,IAAI,CAAEtC,aAAa,CAAEuC,KAAK,CAAE,SAAS,CAAEC,EAAE,CAAE,SAAU,CAAC,CACzG,CAAEL,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAEN,WAAW,CAAEQ,IAAI,CAAErC,UAAU,CAAEsC,KAAK,CAAE,SAAS,CAAEC,EAAE,CAAE,SAAU,CAAC,CAChG,CAACC,GAAG,CAACC,CAAC,eACLrC,KAAA,QAAmBmB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC5EtB,IAAA,QAAKqB,SAAS,CAAC,4DAA4D,CAACQ,KAAK,CAAE,CAAEW,eAAe,CAAED,CAAC,CAACF,EAAG,CAAE,CAAAf,QAAA,cAACtB,IAAA,CAACuC,CAAC,CAACJ,IAAI,EAACM,IAAI,CAAE,EAAG,CAACZ,KAAK,CAAE,CAAEO,KAAK,CAAEG,CAAC,CAACH,KAAM,CAAE,CAAE,CAAC,CAAK,CAAC,cACnKpC,IAAA,MAAGqB,SAAS,CAAC,oBAAoB,CAACQ,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAR,QAAA,CAAEiB,CAAC,CAACN,KAAK,CAAI,CAAC,cACjFjC,IAAA,MAAGqB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEiB,CAAC,CAACP,KAAK,CAAI,CAAC,GAHhDO,CAAC,CAACP,KAIP,CACN,CAAC,CACC,CAAC,cAEN9B,KAAA,QAAKmB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DtB,IAAA,OAAIqB,SAAS,CAAC,4BAA4B,CAACQ,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAR,QAAA,CAAC,YAAU,CAAI,CAAC,cAC5FpB,KAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvBjB,OAAO,CAACiC,GAAG,CAACtB,CAAC,eACZd,KAAA,QAAuBmB,SAAS,CAAC,+GAA+G,CAAAC,QAAA,eAC9IpB,KAAA,QAAKmB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCtB,IAAA,QAAKqB,SAAS,CAAC,oEAAoE,CAAAC,QAAA,cAACtB,IAAA,CAACL,QAAQ,EAAC8C,IAAI,CAAE,EAAG,CAACpB,SAAS,CAAC,gBAAgB,CAAE,CAAC,CAAK,CAAC,cAC3InB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,MAAGqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAEN,CAAC,CAAC0B,KAAK,CAAI,CAAC,cACvDxC,KAAA,MAAGmB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAEN,CAAC,CAAC2B,YAAY,EAAI,CAAC,CAAC,gBAAW,CAAC3B,CAAC,CAACU,gBAAgB,EAAI,CAAC,CAAC,WAAS,EAAG,CAAC,EACzG,CAAC,EACH,CAAC,cACN1B,IAAA,SAAMqB,SAAS,iDAAAuB,MAAA,CAAkD5B,CAAC,CAAC6B,MAAM,GAAK,WAAW,CAAG,6BAA6B,CAAG,6BAA6B,CAAG,CAAAvB,QAAA,CAAEN,CAAC,CAAC6B,MAAM,CAAO,CAAC,GARtK7B,CAAC,CAAC8B,SASP,CACN,CAAC,CACDzC,OAAO,CAAC6B,MAAM,GAAK,CAAC,eAAIlC,IAAA,MAAGqB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,0BAAwB,CAAG,CAAC,EACxF,CAAC,EACH,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}