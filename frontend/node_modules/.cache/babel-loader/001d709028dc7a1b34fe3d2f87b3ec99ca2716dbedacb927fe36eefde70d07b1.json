{"ast":null,"code":"import React,{useState,useEffect}from'react';import API from'../../api';import{useAuth}from'../../context/AuthContext';import{Award,Download}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Certificates(){const{user}=useAuth();const[certs,setCerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const params=(user===null||user===void 0?void 0:user.role)==='student'?{student_id:user.user_id}:{};API.get('/api/certificates',{params}).then(r=>setCerts(r.data)).catch(()=>{}).finally(()=>setLoading(false));},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 animate-fade-in\",\"data-testid\":\"certificates-page\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-[#1C1917]\",style:{fontFamily:'Plus Jakarta Sans'},children:\"Certificates\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-[#57534E] mt-1\",children:[certs.length,\" certificates issued\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:[certs.map(c=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-[#E7E5E4] overflow-hidden hover:shadow-md transition-all duration-300\",\"data-testid\":\"cert-\".concat(c.certificate_id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-32 bg-gradient-to-br from-[#0D9488] to-[#14B8A6] flex items-center justify-center\",children:/*#__PURE__*/_jsx(Award,{size:48,className:\"text-white/30\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-[#1C1917]\",style:{fontFamily:'Plus Jakarta Sans'},children:c.course_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-[#57534E] mt-1\",children:[\"Awarded to: \",c.student_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-[#A8A29E] mt-2\",children:[\"Issued: \",new Date(c.issued_at).toLocaleDateString()]})]})]},c.certificate_id)),certs.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full text-center py-12 text-[#A8A29E]\",children:\"No certificates yet\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","API","useAuth","Award","Download","jsx","_jsx","jsxs","_jsxs","Certificates","user","certs","setCerts","loading","setLoading","params","role","student_id","user_id","get","then","r","data","catch","finally","className","children","style","fontFamily","length","map","c","concat","certificate_id","size","course_title","student_name","Date","issued_at","toLocaleDateString"],"sources":["/app/frontend/src/pages/admin/Certificates.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../../api';\nimport { useAuth } from '../../context/AuthContext';\nimport { Award, Download } from 'lucide-react';\n\nexport default function Certificates() {\n  const { user } = useAuth();\n  const [certs, setCerts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const params = user?.role === 'student' ? { student_id: user.user_id } : {};\n    API.get('/api/certificates', { params }).then(r => setCerts(r.data)).catch(() => {}).finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div className=\"flex items-center justify-center h-64\"><div className=\"animate-spin w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full\" /></div>;\n\n  return (\n    <div className=\"space-y-6 animate-fade-in\" data-testid=\"certificates-page\">\n      <div><h1 className=\"text-2xl font-bold text-[#1C1917]\" style={{ fontFamily: 'Plus Jakarta Sans' }}>Certificates</h1><p className=\"text-sm text-[#57534E] mt-1\">{certs.length} certificates issued</p></div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {certs.map(c => (\n          <div key={c.certificate_id} className=\"bg-white rounded-xl border border-[#E7E5E4] overflow-hidden hover:shadow-md transition-all duration-300\" data-testid={`cert-${c.certificate_id}`}>\n            <div className=\"h-32 bg-gradient-to-br from-[#0D9488] to-[#14B8A6] flex items-center justify-center\">\n              <Award size={48} className=\"text-white/30\" />\n            </div>\n            <div className=\"p-4\">\n              <h3 className=\"font-semibold text-[#1C1917]\" style={{ fontFamily: 'Plus Jakarta Sans' }}>{c.course_title}</h3>\n              <p className=\"text-sm text-[#57534E] mt-1\">Awarded to: {c.student_name}</p>\n              <p className=\"text-xs text-[#A8A29E] mt-2\">Issued: {new Date(c.issued_at).toLocaleDateString()}</p>\n            </div>\n          </div>\n        ))}\n        {certs.length === 0 && <div className=\"col-span-full text-center py-12 text-[#A8A29E]\">No certificates yet</div>}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}