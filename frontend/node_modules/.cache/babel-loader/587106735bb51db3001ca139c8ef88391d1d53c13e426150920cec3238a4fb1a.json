{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/RichTextEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useCallback } from 'react';\nimport { Bold, Italic, Underline, List, ListOrdered, Code, Link, Image, Heading2, AlignLeft } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tools = [{\n  cmd: 'bold',\n  icon: Bold,\n  title: 'Bold'\n}, {\n  cmd: 'italic',\n  icon: Italic,\n  title: 'Italic'\n}, {\n  cmd: 'underline',\n  icon: Underline,\n  title: 'Underline'\n}, {\n  cmd: 'insertUnorderedList',\n  icon: List,\n  title: 'Bullet List'\n}, {\n  cmd: 'insertOrderedList',\n  icon: ListOrdered,\n  title: 'Numbered List'\n}, {\n  cmd: 'formatBlock_h2',\n  icon: Heading2,\n  title: 'Heading'\n}, {\n  cmd: 'formatBlock_pre',\n  icon: Code,\n  title: 'Code Block'\n}];\nexport default function RichTextEditor({\n  value,\n  onChange,\n  placeholder = 'Start writing...',\n  minHeight = 200\n}) {\n  _s();\n  const editorRef = useRef(null);\n  const exec = useCallback(cmd => {\n    if (cmd === 'formatBlock_h2') document.execCommand('formatBlock', false, '<h2>');else if (cmd === 'formatBlock_pre') document.execCommand('formatBlock', false, '<pre>');else document.execCommand(cmd, false, null);\n    if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n  }, [onChange]);\n  const insertImage = () => {\n    const url = prompt('Enter image URL:');\n    if (url) {\n      document.execCommand('insertImage', false, url);\n      if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n    }\n  };\n  const insertLink = () => {\n    const url = prompt('Enter URL:');\n    if (url) {\n      document.execCommand('createLink', false, url);\n      if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n    }\n  };\n  const insertYouTube = () => {\n    const url = prompt('Enter YouTube URL:');\n    if (url) {\n      var _url$match;\n      const id = (_url$match = url.match(/(?:youtu\\.be\\/|v=)([^&]+)/)) === null || _url$match === void 0 ? void 0 : _url$match[1];\n      if (id) {\n        const html = `<div style=\"position:relative;padding-bottom:56.25%;height:0;overflow:hidden;margin:1rem 0;border-radius:8px\"><iframe src=\"https://www.youtube.com/embed/${id}\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;border:0\" allowfullscreen></iframe></div>`;\n        document.execCommand('insertHTML', false, html);\n        if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border border-[#E2E8F0] rounded-xl overflow-hidden bg-white\",\n    \"data-testid\": \"rich-text-editor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-0.5 p-2 border-b border-[#E2E8F0] bg-[#F8FAFC] flex-wrap\",\n      children: [tools.map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => exec(t.cmd),\n        title: t.title,\n        className: \"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(t.icon, {\n          size: 15\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, t.cmd, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-px h-5 bg-[#E2E8F0] mx-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: insertImage,\n        title: \"Insert Image\",\n        className: \"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          size: 15\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 176\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: insertLink,\n        title: \"Insert Link\",\n        className: \"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          size: 15\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 174\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: insertYouTube,\n        title: \"YouTube Embed\",\n        className: \"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors text-[10px] font-bold\",\n        style: {\n          fontFamily: 'Space Mono'\n        },\n        children: \"YT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: editorRef,\n      contentEditable: true,\n      className: \"prose prose-sm max-w-none p-4 outline-none\",\n      style: {\n        minHeight\n      },\n      dangerouslySetInnerHTML: {\n        __html: value || ''\n      },\n      onInput: () => {\n        if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n      },\n      \"data-testid\": \"rich-text-content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), !value && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"absolute top-16 left-4 text-[#94A3B8] text-sm pointer-events-none\",\n      children: placeholder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(RichTextEditor, \"AaSEfbbAztCbdNv29sWDodSfXJQ=\");\n_c = RichTextEditor;\nvar _c;\n$RefreshReg$(_c, \"RichTextEditor\");","map":{"version":3,"names":["React","useRef","useCallback","Bold","Italic","Underline","List","ListOrdered","Code","Link","Image","Heading2","AlignLeft","jsxDEV","_jsxDEV","tools","cmd","icon","title","RichTextEditor","value","onChange","placeholder","minHeight","_s","editorRef","exec","document","execCommand","current","innerHTML","insertImage","url","prompt","insertLink","insertYouTube","_url$match","id","match","html","className","children","map","t","type","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","style","fontFamily","ref","contentEditable","dangerouslySetInnerHTML","__html","onInput","_c","$RefreshReg$"],"sources":["/app/frontend/src/components/RichTextEditor.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react';\nimport { Bold, Italic, Underline, List, ListOrdered, Code, Link, Image, Heading2, AlignLeft } from 'lucide-react';\n\nconst tools = [\n  { cmd: 'bold', icon: Bold, title: 'Bold' },\n  { cmd: 'italic', icon: Italic, title: 'Italic' },\n  { cmd: 'underline', icon: Underline, title: 'Underline' },\n  { cmd: 'insertUnorderedList', icon: List, title: 'Bullet List' },\n  { cmd: 'insertOrderedList', icon: ListOrdered, title: 'Numbered List' },\n  { cmd: 'formatBlock_h2', icon: Heading2, title: 'Heading' },\n  { cmd: 'formatBlock_pre', icon: Code, title: 'Code Block' },\n];\n\nexport default function RichTextEditor({ value, onChange, placeholder = 'Start writing...', minHeight = 200 }) {\n  const editorRef = useRef(null);\n\n  const exec = useCallback((cmd) => {\n    if (cmd === 'formatBlock_h2') document.execCommand('formatBlock', false, '<h2>');\n    else if (cmd === 'formatBlock_pre') document.execCommand('formatBlock', false, '<pre>');\n    else document.execCommand(cmd, false, null);\n    if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n  }, [onChange]);\n\n  const insertImage = () => {\n    const url = prompt('Enter image URL:');\n    if (url) {\n      document.execCommand('insertImage', false, url);\n      if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n    }\n  };\n\n  const insertLink = () => {\n    const url = prompt('Enter URL:');\n    if (url) {\n      document.execCommand('createLink', false, url);\n      if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n    }\n  };\n\n  const insertYouTube = () => {\n    const url = prompt('Enter YouTube URL:');\n    if (url) {\n      const id = url.match(/(?:youtu\\.be\\/|v=)([^&]+)/)?.[1];\n      if (id) {\n        const html = `<div style=\"position:relative;padding-bottom:56.25%;height:0;overflow:hidden;margin:1rem 0;border-radius:8px\"><iframe src=\"https://www.youtube.com/embed/${id}\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;border:0\" allowfullscreen></iframe></div>`;\n        document.execCommand('insertHTML', false, html);\n        if (editorRef.current && onChange) onChange(editorRef.current.innerHTML);\n      }\n    }\n  };\n\n  return (\n    <div className=\"border border-[#E2E8F0] rounded-xl overflow-hidden bg-white\" data-testid=\"rich-text-editor\">\n      <div className=\"flex items-center gap-0.5 p-2 border-b border-[#E2E8F0] bg-[#F8FAFC] flex-wrap\">\n        {tools.map(t => (\n          <button key={t.cmd} type=\"button\" onClick={() => exec(t.cmd)} title={t.title}\n            className=\"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors\">\n            <t.icon size={15} />\n          </button>\n        ))}\n        <div className=\"w-px h-5 bg-[#E2E8F0] mx-1\" />\n        <button type=\"button\" onClick={insertImage} title=\"Insert Image\" className=\"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors\"><Image size={15} /></button>\n        <button type=\"button\" onClick={insertLink} title=\"Insert Link\" className=\"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors\"><Link size={15} /></button>\n        <button type=\"button\" onClick={insertYouTube} title=\"YouTube Embed\" className=\"p-1.5 rounded-lg hover:bg-[#E2E8F0] text-[#64748B] hover:text-[#0F172A] transition-colors text-[10px] font-bold\" style={{ fontFamily: 'Space Mono' }}>YT</button>\n      </div>\n      <div\n        ref={editorRef}\n        contentEditable\n        className=\"prose prose-sm max-w-none p-4 outline-none\"\n        style={{ minHeight }}\n        dangerouslySetInnerHTML={{ __html: value || '' }}\n        onInput={() => { if (editorRef.current && onChange) onChange(editorRef.current.innerHTML); }}\n        data-testid=\"rich-text-content\"\n      />\n      {!value && <p className=\"absolute top-16 left-4 text-[#94A3B8] text-sm pointer-events-none\">{placeholder}</p>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}